<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Example 4: Real-Time Updates</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    h2 { margin-bottom: 10px; }
    #updatesContainer { border: 1px solid #ccc; padding: 10px; max-width: 400px; }
    .message {
      padding: 5px; margin-bottom: 5px; background: #f9f9f9; border-radius: 4px;
      opacity: 0; transition: opacity 0.5s ease;
    }
    .message.visible { opacity: 1; }
    #status { font-style: italic; color: #666; margin-top: 10px; }
    a { display: inline-block; margin-top: 20px; color: #0066cc; text-decoration: none; }
  </style>
</head>
<body>
  <h2>Example 4: Real-Time Updates</h2>
  <div id="updatesContainer"></div>
  <div id="status">Connected</div>
  <a href="index.html">← Back to Index</a>

  <script>
    const updates = document.getElementById('updatesContainer');
    const statusEl = document.getElementById('status');

    function pushUpdate() {
      statusEl.textContent = 'Updating…';
      setTimeout(() => {
        const msg = document.createElement('div');
        msg.className = 'message';
        msg.textContent = `New update at ${new Date().toLocaleTimeString()}`;
        updates.appendChild(msg);
        requestAnimationFrame(() => msg.classList.add('visible'));
        statusEl.textContent = 'Connected';
      }, 800);
    }

    setInterval(pushUpdate, 4000 + Math.random() * 4000);
  </script>
</body>
</html>
